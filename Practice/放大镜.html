<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #smallBox{
            width: 400px;
            height: 400px;
            float: left;
            position: relative;
        }
        #drag{
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.4);
            position: absolute;
            left: 0;
            top: 0;
            display: none;
        }
        #bigBox{
            width: 400px;
            height: 400px;
            float: left;
            overflow: hidden;
            display: none;
            position: relative;
        }
        #bigImg{
            position: absolute;
        }
        </style>
</head>
<body>
        <div id="smallBox">
            <img src="img/6.jpg" alt="">
            <span id="drag"></span>
        </div>
        <div id="bigBox">
            <img id='bigImg' src="img/7.jpg" alt="">
        </div>


        <script>
        var oDrag=document.getElementById('drag');
        var oSmallbox=document.getElementById('smallBox');
        var oBigbox=document.getElementById('bigBox');
        var oBigimg=document.getElementById('bigImg');

        oSmallbox.onmouseover=function(){
            oDrag.style.display='block';
            oBigbox.style.display='block';
            oSmallbox.onmousemove=function(e){
                var x=e.clientX-oDrag.offsetWidth/2;
                var y=e.clientY-oDrag.offsetHeight/2;
                if(x<0){
                    x=0;
                }
                if(y<0){
                    y=0;
                }
                var smallxmax=oSmallbox.offsetWidth-oDrag.offsetWidth;
                var smallymax=oSmallbox.offsetHeight-oDrag.offsetHeight;
                if(x>smallxmax){
                    x=smallxmax;
                }
                if(y>smallymax){
                    y=smallymax;
                }
                oDrag.style.left=x+'px';
                oDrag.style.top=y+'px';

                var bigxmax=oBigimg.offsetWidth-oBigbox.offsetWidth;
                var bilix=x/smallxmax;
                oBigimg.style.left=-bigxmax*bilix+'px';

                var bigymax=oBigimg.offsetHeight-oBigbox.offsetHeight;
                var biliy=y/smallymax;
                oBigimg.style.top=-bigymax*biliy+'px';
            }
        }
        oSmallbox.onmouseout=function(){
            oDrag.style.display='none';
            oBigbox.style.display='none';
        }
        </script>
</body>
</html>