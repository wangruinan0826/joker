<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //如果一个构造器中做返回，如果返回值是基本数据类型，则没有影响；
        //如果返回值是引用数据类型，那么new出的就是这个返回值。例如返回一个对象，那么new出的就是一个对象。
        class Node{
            constructor(val){
                this.val=val;
                this.next=undefined;
            }
        }
        class NodeList{
            constructor(arr){
                this.head=new Node(arr[0]);
                let temp=this.head;
                for(let i=1;i<arr.length;i++){
                    temp.next=new Node(arr[i]);
                    temp=temp.next;
                }
                return this.head;
            }
        }

        //交换两个位置的值
        let swap=(p,q)=>{
            [p.val,q.val]=[q.val,p.val];
        }
        //找到基准值
        let pos=(begin,end)=>{
            let val=begin.val;
            let p=begin;
            let q=begin.next;
            while(q!=end){
                if(q.val<val){
                    swap(p.next,q);
                    p=p.next;
                    q=q.next;
                }else{
                    q=q.next;
                }
            }
            swap(p,begin); 
            return p;
        }
        let sort=(begin,end)=>{
            if(begin!=end){
                let obj=pos(begin,end);//找到的基准值
                sort(begin,obj);
                sort(obj.next,end);
            }
        }

        let isCircle=(head)=>{
            let slow=head;
            let fast=head.next;
            while(1){
                if(!fast||!fast.next){
                    return false;
                }else if(fast===slow||fast.next===slow){
                    return true;
                }else{
                    slow=slow.next;
                    fast=fast.next.next;
                }
            }
        }
        let nl=new NodeList([5,3,2,7,1,6]);
        nl.next.next.next.next.next.next=nl.next.next;
        console.log(isCircle(nl));
        // sort(nl);
        // while(nl){
        //     console.log(nl.val);
        //     nl=nl.next;  //做输出是指针变为空
        // }

        //nlog(n) 快速排序
    </script>
</body>
</html>